<md-toolbar class="edit-title-toolbar">
  <div class="md-toolbar-tools">
    <h1 class="md-title text-truncate" title="{{ $ctrl.doc.displayName }}">
      {{ $ctrl.title }}
    </h1>

    <span flex></span>

    <md-button class="md-icon-button btn-fullwidth qa-rightsidepanel-fullwidth"
               aria-label="{{ ::'FULL_WIDTH' | translate }}"
               ng-click="$ctrl.setFullWidth(true)"
               ng-show="!$ctrl.isFullWidth"
               title="{{ ::'FULL_WIDTH' | translate }}">
      <md-icon md-svg-icon="maximize-sidepanel"></md-icon>
    </md-button>
    <md-button class="md-icon-button btn-normalwidth qa-rightsidepanel-normalwidth"
               aria-label="{{ ::'RESTORE_WIDTH' | translate }}"
               ng-click="$ctrl.setFullWidth(false)"
               ng-show="$ctrl.isFullWidth"
               title="{{ ::'RESTORE_WIDTH' | translate }}">
      <md-icon md-svg-icon="un-maximize-sidepanel"></md-icon>
    </md-button>
    <md-button class="md-icon-button qa-edit-in-content-perspective"
               aria-label="{{ ::'SWITCH_TO_CONTENT_EDITOR' | translate }}"
               ng-disabled="$ctrl.disableContentButtons"
               ng-hide="$ctrl.createContent"
               ng-click="$ctrl.openContentEditor('edit', false)"
               title="{{ ::'SWITCH_TO_CONTENT_EDITOR' | translate }}">
      <md-icon md-svg-icon="switch-to-content-editor"></md-icon>
    </md-button>
    <md-button class="md-icon-button qa-publish-in-content-perspective"
               aria-label="{{ ::'PUBLISH' | translate }}"
               ng-disabled="!$ctrl.editing || $ctrl.disableContentButtons"
               ng-hide="$ctrl.createContent"
               ng-click="$ctrl.openContentEditor('view')"
               title="{{ ::'PUBLISH' | translate }}">
      <md-icon md-svg-icon="publish"></md-icon>
    </md-button>
  </div>
  <md-progress-linear md-mode="indeterminate"
                      ng-if="$ctrl.loading">
  </md-progress-linear>
</md-toolbar>

<visual-editor document-id="$ctrl.documentId"
               doc="$ctrl.doc"
               on-close="$ctrl.onClose(promiseCallback)"
               on-save="$ctrl.onSave(promiseCallback)">
</visual-editor>

<md-toolbar ng-hide="$ctrl.createContent">
  <div class="md-toolbar-tools">
    <span flex></span>

    <md-button class="qa-close"
               ng-click="$ctrl.close()">
      {{ $ctrl.closeButtonLabel() }}
    </md-button>

    <md-button class="qa-save"
               ng-click="$ctrl.save()">
      {{ ::'SAVE' | translate }}
    </md-button>
  </div>
</md-toolbar>
